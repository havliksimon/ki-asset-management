# =============================================================================
# KI Asset Management - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to GitHub (it's in .gitignore)
# =============================================================================

# -----------------------------------------------------------------------------
# Flask Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# Generate a strong random key for production:
# python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-super-secret-key-change-this-in-production

# Set to 'production' on Render, 'development' for local testing
FLASK_ENV=production

# -----------------------------------------------------------------------------
# Database Configuration (REQUIRED - Choose ONE)
# -----------------------------------------------------------------------------

# Option 1: Local SQLite (for development only)
# USE_LOCAL_SQLITE=True
# DATABASE_URL=sqlite:///instance/analyst.db

# Option 2: PostgreSQL on neon.tech (RECOMMENDED for production)
USE_LOCAL_SQLITE=False
DATABASE_URL=postgresql://username:password@hostname.neon.tech/database?sslmode=require

# -----------------------------------------------------------------------------
# Email Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# 
# Email is REQUIRED for user registration and password reset to work.
# You must configure either SendGrid (recommended) or SMTP (local dev only).
#
# OPTION 1: SendGrid (RECOMMENDED for Render - SMTP is blocked on free tier)
# Sign up at https://sendgrid.com (100 emails/day free)
# 1. Create an account and verify your email
# 2. Create an API key at Settings > API Keys
# 3. Verify a sender email at Sender Authentication > Single Sender Verification
# 4. Set both variables below:
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
MAIL_DEFAULT_SENDER=your-verified-sender@klubinvestoru.com
#
# OPTION 2: SMTP (for local development only - Gmail, etc.)
# Note: Render free tier blocks outbound SMTP, so this only works locally
# MAIL_SERVER=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USE_TLS=true
# MAIL_USERNAME=your-email@gmail.com
# MAIL_PASSWORD=your-gmail-app-password
# MAIL_DEFAULT_SENDER=your-email@gmail.com

# -----------------------------------------------------------------------------
# External APIs (Optional)
# -----------------------------------------------------------------------------
# DeepSeek API for AI-assisted ticker matching and blog content generation
# Used for: Company ticker identification, SEO generation, article creation
# Get your key at: https://platform.deepseek.com
DEEPSEEK_API_KEY=

# Brave Search API for ticker lookup fallback
# Get your key at: https://api.search.brave.com
BRAVE_SEARCH_API_KEY=

# Unsplash API for blog featured images
# Used for: Searching and selecting featured images for blog posts
# Get your key at: https://unsplash.com/developers
UNSPLASH_API_KEY=

# -----------------------------------------------------------------------------
# Admin Configuration (IMPORTANT)
# -----------------------------------------------------------------------------
# The email address that will automatically become admin when registered
# Set this to YOUR email address - when you register with this email, 
# you'll be assigned admin privileges automatically
ADMIN_EMAIL=your-name@klubinvestoru.com

# Optional: Pre-create admin user (skip registration)
# If you set both ADMIN_EMAIL and ADMIN_PASSWORD, the admin user will be
# created automatically on first deploy. If ADMIN_PASSWORD is not set,
# you'll need to register normally with ADMIN_EMAIL to become admin.
# ADMIN_PASSWORD=your-secure-password-here

# Only allow registrations from this email domain
ALLOWED_EMAIL_DOMAIN=klubinvestoru.com

# -----------------------------------------------------------------------------
# Security Settings (IMPORTANT for Production)
# -----------------------------------------------------------------------------
# These settings are automatically configured in config.py but can be overridden:
# 
# SESSION_COOKIE_SECURE=True  # Only send cookies over HTTPS (auto-enabled in production)
# SESSION_COOKIE_HTTPONLY=True  # Prevent JavaScript access to cookies
# SESSION_COOKIE_SAMESITE=Lax  # CSRF protection
# 
# Generate a strong SECRET_KEY for production:
# python -c "import secrets; print(secrets.token_hex(32))"

# -----------------------------------------------------------------------------
# Neon.tech Optimization Settings (CACHING)
# -----------------------------------------------------------------------------
# Enable aggressive caching to minimize Neon DB compute unit (CU) usage
# When enabled, public pages are cached in memory and don't hit the database
NEON_OPTIMIZE=true

# Cache configuration
CACHE_TYPE=SimpleCache        # Use in-memory cache (best for Render)
CACHE_DEFAULT_TIMEOUT=300     # Default cache TTL: 5 minutes
PUBLIC_DATA_CACHE_TIMEOUT=3600    # Public data (stats, charts): 1 hour
STATIC_DATA_CACHE_TIMEOUT=86400   # Static data (sitemap): 24 hours
SHORT_CACHE_TIMEOUT=60            # Interactive content (ideas): 1 minute

# Note: For high-traffic sites, consider Redis:
# CACHE_TYPE=RedisCache
# CACHE_REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Render-Specific Settings (Auto-populated by Render)
# -----------------------------------------------------------------------------
# Render automatically sets PORT - don't change this
# PORT=10000
